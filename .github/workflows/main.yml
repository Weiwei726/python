name: Discord 自動推送
on:
  schedule:
    - cron: '0 0 * * *'  # 台灣時間 08:00
  workflow_dispatch:      # 讓你可以手動測試
jobs:
  run-python:
    # --- 這裡最重要，一定要改成 self-hosted ---
    runs-on: self-hosted 
    steps:
    - name: 檢出程式碼
      uses: actions/checkout@v4
    - name: 執行程式
      # 因為 self-hosted 環境已經有 Python 了，我們直接執行
      run: python "預警訊息推播.py"
      env:
        PYTHONIOENCODING: utf-8
